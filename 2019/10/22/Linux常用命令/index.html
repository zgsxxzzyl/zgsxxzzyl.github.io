<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="YiLongZhang">





<title>Linux常用命令 | 乾坤多畏途,何处无波澜</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        <!-- MathJax配置，可通过单美元符号书写行内公式等 -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- 给MathJax元素添加has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- 通过连接CDN加载MathJax的js代码 -->
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    


<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">博客</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">文章</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
                <a href="/search/">搜索</a>
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">博客</a><a id="mobile-toggle-theme">·&nbsp;日间</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; 选项</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">文章</a>
                
                    <a class="menu-item" href="/category">分类</a>
                
                    <a class="menu-item" href="/tag">标签</a>
                
                    <a class="menu-item" href="/about">关于</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
    <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">全部展开</a>
        <a onclick="go_top()">回到顶部</a>
        <a onclick="go_bottom()">回到底部</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "全部折叠"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "全部展开"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Linux常用命令</h1>
            
            <div class="post-meta">
                
                作者： <a itemprop="author" rel="author" href="/">YiLongZhang</a>&nbsp;
                

                
                <span class="post-time">
                    创建日期： <a
                        href="#">十月 22, 2019&nbsp;&nbsp;15:05:25</a>
                </span>&nbsp;
                
                
                <!-- 
                状态：<a href="#">SNAPSHOT</a>
                 -->
            </div>
            
        </header>

        <div class="post-content">
            <h1 id="查看Linux版本"><a href="#查看Linux版本" class="headerlink" title="查看Linux版本"></a>查看Linux版本</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/centos-release</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可以查看所有用户的列表</span></span><br><span class="line">cat /etc/passwd</span><br><span class="line"><span class="comment"># 查看用户组</span></span><br><span class="line">cat /etc/group</span><br><span class="line"><span class="comment"># 查看当前登录用户的组内成员</span></span><br><span class="line">groups</span><br><span class="line"><span class="comment"># 查看gliethttp用户所在的组,以及组内成员</span></span><br><span class="line">groups gliethttp</span><br><span class="line"><span class="comment"># 查看当前登录用户名</span></span><br><span class="line">whoami</span><br></pre></td></tr></table></figure>

<h1 id="查看支持的Shell类型"><a href="#查看支持的Shell类型" class="headerlink" title="查看支持的Shell类型"></a>查看支持的Shell类型</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells</span><br><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure>

<h1 id="修改IP"><a href="#修改IP" class="headerlink" title="修改IP"></a>修改IP</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过修改配置文件</span></span><br><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="comment"># 重启网络</span></span><br><span class="line">service network restart</span><br><span class="line"><span class="comment"># 查看改动后的效果</span></span><br><span class="line">ip addr</span><br></pre></td></tr></table></figure>

<ul>
<li><p>指定IP</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IPADDR=192.168.0.230 #静态IP</span><br><span class="line">GATEWAY=192.168.0.1 #默认网关</span><br><span class="line">NETMASK=255.255.255.0 #子网掩码</span><br><span class="line">DNS1=192.168.0.1 #DNS 配置</span><br><span class="line">DNS2=8.8.8.8</span><br></pre></td></tr></table></figure>
</li>
<li><p>自动获取IP</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BOOTPROTO=dhcp</span><br><span class="line">ONBOOT=yes</span><br></pre></td></tr></table></figure>
<h1 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h1></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chmod 更改权限</span><br><span class="line">o 所有者 g 组 o 其他</span><br><span class="line">r--4 w--2 x--1</span><br><span class="line">-R 处理指定目录以及其子目录下的所有文件</span><br><span class="line"></span><br><span class="line">chmod u+x,g+x index.html</span><br><span class="line">chmod 755 index.html</span><br><span class="line">chmod -R o+x fa</span><br></pre></td></tr></table></figure>

<h1 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chown 将指定文件的拥有者改为指定的用户或组</span><br><span class="line"></span><br><span class="line">chown [选项]... [所有者][:[组]] 文件...</span><br><span class="line"></span><br><span class="line">-R 处理指定目录以及其子目录下的所有文件</span><br><span class="line"></span><br><span class="line">chown weblogic:bea index.html </span><br><span class="line">chown -R weblogic:bea test1</span><br></pre></td></tr></table></figure>

<h1 id="lsof"><a href="#lsof" class="headerlink" title="lsof"></a>lsof</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看使用某端口的进程</span></span><br><span class="line">lsof -i:8090</span><br><span class="line">netstat -ap|grep 8090</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看到进程id之后，使用netstat命令查看其占用的端口</span></span><br><span class="line">netstat -nap|grep 7779</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看PID</span></span><br><span class="line">ps -aux|grep chat.js| grep -v grep | awk <span class="string">'&#123;print $2&#125;'</span></span><br></pre></td></tr></table></figure>

<h1 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">nohup 加 &amp;大家都知道是后台运行并把stdout输出到文件nohup.out中。其实&amp;是后台运行的命令。</span><br><span class="line"></span><br><span class="line">一般都是在linux下nohup格式：</span><br><span class="line"></span><br><span class="line">nohup command_line</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">nohup command_line &amp;</span><br><span class="line"></span><br><span class="line">这之间的差别是带&amp;的命令行，即使terminal关闭，或者电脑死机程序依然运行（前提是你把程序递交到服务器上）；</span><br><span class="line"></span><br><span class="line">它把标准输出（STDOUT）和标准错误（STDERR）结果输出到nohup.txt文件这个看似很方便，但是当输出很大的时候，nohup.txt文件会非常大，或者多个后台命令的时候大家都会输出到nohup.txt文件，不利于查找结果和调试程序。</span><br><span class="line"></span><br><span class="line">所以能够重定向输出会非常方便。下面要介绍标准输出，标准输入 和标准错误了。</span><br><span class="line"></span><br><span class="line">其实我门一直都在用，只是没有注意到，</span><br><span class="line"></span><br><span class="line">比如</span><br><span class="line"></span><br><span class="line">\&gt;.&#x2F;command.sh &gt; output</span><br><span class="line"></span><br><span class="line">\#这其中的&gt;就是标准输出符号，其实是 1&gt;output 的缩写</span><br><span class="line"></span><br><span class="line">\&gt;.&#x2F;command.sh 2&gt; output</span><br><span class="line"></span><br><span class="line">＃这里的2&gt;就是将标准错误输出到output文件里。</span><br><span class="line"></span><br><span class="line">而0&lt; 则是标准输入了。</span><br><span class="line"></span><br><span class="line">下面步入正题，重定向后台命令</span><br><span class="line"></span><br><span class="line">\&gt;nohup .&#x2F;command.sh &gt; output 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line">ls xxx &gt;out.txt 2&gt;&amp;1, 实际上可换成 ls xxx 1&gt;out.txt 2&gt;&amp;1；重定向符号&gt;默认是1,错误和输出都传到out.txt了。</span><br><span class="line"></span><br><span class="line">解释：前面的nohup 和后面的&amp;我想大家都能明白了把。</span><br><span class="line"></span><br><span class="line">主要是中间的 2&gt;&amp;1的意思</span><br><span class="line"></span><br><span class="line">这个意思是把标准错误（2）重定向到标准输出中（1），而标准输出又导入文件output里面，</span><br><span class="line"></span><br><span class="line">所以结果是标准错误和标准输出都导入文件output里面了。</span><br><span class="line"></span><br><span class="line">至于为什么需要将标准错误重定向到标准输出的原因，那就归结为标准错误没有缓冲区，而stdout有。</span><br><span class="line"></span><br><span class="line">这就会导致 &gt;output 2&gt;output 文件output被两次打开，而stdout和stderr将会竞争覆盖，这肯定不是我门想要的.</span><br><span class="line"></span><br><span class="line">这就是为什么有人会写成：</span><br><span class="line"></span><br><span class="line">nohup .&#x2F;command.sh &gt;output 2&gt;output出错的原因了</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">\##########################</span><br><span class="line"></span><br><span class="line">最后谈一下&#x2F;dev&#x2F;null文件的作用</span><br><span class="line"></span><br><span class="line">这是一个无底洞，任何东西都可以定向到这里，但是却无法打开。</span><br><span class="line"></span><br><span class="line">所以一般很大的stdou和stderr当你不关心的时候可以利用stdout和stderr定向到这里&gt;.&#x2F;command.sh &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<h1 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h1><ul>
<li><code>ps -aux</code></li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">USER: 行程拥有者 </span><br><span class="line">PID: pid </span><br><span class="line">%CPU: 占用的 CPU 使用率 </span><br><span class="line">%MEM: 占用的内存使用率 </span><br><span class="line">VSZ: 占用的虚拟内存大小，申请内存值</span><br><span class="line">RSS: 占用的内存大小 ，实际使用的物理内存</span><br><span class="line">TTY: 终端的次要装置号码 (minor device number <span class="keyword">of</span> tty) </span><br><span class="line">STAT: 该行程的状态: </span><br><span class="line">D: 不可中断的静止 (通悸□□缜b进行 I/O 动作) </span><br><span class="line">R: 正在执行中 </span><br><span class="line">S: 静止状态 </span><br><span class="line">T: 暂停执行 </span><br><span class="line">Z: 不存在但暂时无法消除 </span><br><span class="line">W: 没有足够的内存分页可分配 </span><br><span class="line">&lt;: 高优先序的行程 </span><br><span class="line">N: 低优先序的行程 </span><br><span class="line">L: 有内存分页分配并锁在内存内 (实时系统或捱A I/O) </span><br><span class="line">START: 行程开始时间 </span><br><span class="line">TIME: 执行的时间 </span><br><span class="line">COMMAND:所执行的指令</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>ps aux | sort -k3nr |head -n 10</code> 按照消耗CPU前10排序的进程</p>
</li>
<li><p><code>ps aux | sort -k4nr |head -n 10</code> 按照消耗内存前10排序的进程</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort [-bcdfimMnr][-o&lt;输出文件&gt;][-t&lt;分隔字符&gt;][+&lt;起始栏位&gt;-&lt;结束栏位&gt;][--help][--verison][文件]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li><p>-b 忽略每行前面开始出的空格字符。</p>
</li>
<li><p>-c 检查文件是否已经按照顺序排序。</p>
</li>
<li><p>-d 排序时，处理英文字母、数字及空格字符外，忽略其他的字符。</p>
</li>
<li><p>-f 排序时，将小写字母视为大写字母。</p>
</li>
<li><p>-i 排序时，除了040至176之间的ASCII字符外，忽略其他的字符。</p>
</li>
<li><p>-m 将几个排序好的文件进行合并。</p>
</li>
<li><p>-M 将前面3个字母依照月份的缩写进行排序。</p>
</li>
<li><p>-n 依照数值的大小排序。</p>
</li>
<li><p>-o&lt;输出文件&gt; 将排序后的结果存入指定的文件。</p>
</li>
<li><p>-r 以相反的顺序来排序。</p>
</li>
<li><p>-t&lt;分隔字符&gt; 指定排序时所用的栏位分隔字符。</p>
</li>
<li><p>+&lt;起始栏位&gt;-&lt;结束栏位&gt; 以指定的栏位来排序，范围由起始栏位到结束栏位的前一栏位。</p>
</li>
<li><p>–help 显示帮助。</p>
</li>
<li><p>–version 显示版本信息。</p>
</li>
</ul>
<h1 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h1><ul>
<li>安装</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装 example.rpm 包</span></span><br><span class="line">rpm -i example.rpm </span><br><span class="line"><span class="comment"># 安装 example.rpm 包并在安装过程中显示正在安装的文件信息</span></span><br><span class="line">rpm -iv example.rpm </span><br><span class="line"><span class="comment"># 安装 example.rpm 包并在安装过程中显示正在安装的文件信息及安装进度</span></span><br><span class="line">rpm -ivh example.rpm</span><br></pre></td></tr></table></figure>

<ul>
<li>卸载</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e --nodeps 要卸载的软件包</span><br></pre></td></tr></table></figure>

<ul>
<li>查询系统已安装的软件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -q 软件名</span><br></pre></td></tr></table></figure>

<ul>
<li>查看系统中所有已经安装的包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa</span><br><span class="line">rpm -qa |more</span><br><span class="line">rpm -qa |grep abc</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qpl mysql-community-server-5.7.26-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<ul>
<li>查看安装包时间</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qi</span><br></pre></td></tr></table></figure>

<ul>
<li>查看安装包路径</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ql</span><br></pre></td></tr></table></figure>

<ul>
<li>按时间顺序列出rpm包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -q --all --last</span><br></pre></td></tr></table></figure>

<h1 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">tar filename.tar Dirname</span><br><span class="line">-c 创建新文件,</span><br><span class="line">-f 通常必选</span><br><span class="line">-v 操作过程显示到显示器</span><br><span class="line">-x 还原备份文件</span><br><span class="line">-r 追加文件到备份文件中</span><br><span class="line">-z 打包压缩---调用gzip</span><br><span class="line"></span><br><span class="line"><span class="comment">#打包当前目录下的所有文件</span></span><br><span class="line">tar -cvf 20161226.tar *</span><br><span class="line"><span class="comment">#还原tar包</span></span><br><span class="line">tar -xvf 20161226.tar</span><br><span class="line"><span class="comment">#把file文件追加到tar中</span></span><br><span class="line">tar -rvf 2016.1226.tar file</span><br><span class="line"><span class="comment">#打包后以gizp压缩</span></span><br><span class="line">tar -zcvf 20161226.tar.gz</span><br><span class="line"><span class="comment">#解压缩</span></span><br><span class="line">tar -zxvf 20161226.tar.gz</span><br></pre></td></tr></table></figure>

<h1 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h1><blockquote>
<p>全称为 Yellow dog Updater Modified，它是一个在线的软件安装命令。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum源配置路径</span></span><br><span class="line">/etc/yum.repos.d</span><br><span class="line"><span class="comment"># 重新配置后需要生效</span></span><br><span class="line">yum cleancache</span><br><span class="line">yum makecache</span><br><span class="line">yum list</span><br><span class="line">yum list installed</span><br><span class="line">yum search</span><br><span class="line">yum remove</span><br></pre></td></tr></table></figure>

<h1 id="firewall"><a href="#firewall" class="headerlink" title="firewall"></a>firewall</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#查看所有打开的端口</span></span><br><span class="line">firewall-cmd --zone=public --list-ports</span><br><span class="line"><span class="comment">#添加（--permanent永久生效，没有此参数重启后失效）</span></span><br><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent    </span><br><span class="line"><span class="comment">#重新载入</span></span><br><span class="line">firewall-cmd --reload</span><br><span class="line"><span class="comment">#查看</span></span><br><span class="line">firewall-cmd --zone=public --query-port=80/tcp</span><br><span class="line"><span class="comment">#删除</span></span><br><span class="line">firewall-cmd --zone=public --remove-port=80/tcp --permanent</span><br><span class="line"><span class="comment">#批量开放端口</span></span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=100-500/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=100-500/udp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看防火状态</span></span><br><span class="line">systemctl status firewalld</span><br><span class="line">service  iptables status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 暂时关闭防火墙</span></span><br><span class="line">systemctl stop firewalld</span><br><span class="line">service  iptables stop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久关闭防火墙</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">chkconfig iptables off</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启防火墙</span></span><br><span class="line">systemctl <span class="built_in">enable</span> firewalld</span><br><span class="line">service iptables restart  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 永久关闭后重启</span></span><br><span class="line">chkconfig iptables on</span><br></pre></td></tr></table></figure>

<h1 id="which"><a href="#which" class="headerlink" title="which"></a>which</h1><p>which命令的作用是在PATH变量指定的路径中搜索某个系统命令的位置并且返回第一个搜索结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Usage: /usr/bin/<span class="built_in">which</span> [options] [--] COMMAND [...]</span><br><span class="line">Write the full path of COMMAND(s) to standard output.</span><br><span class="line"></span><br><span class="line">  --version, -[vV] Print version and <span class="built_in">exit</span> successfully.</span><br><span class="line">  --<span class="built_in">help</span>,          Print this <span class="built_in">help</span> and <span class="built_in">exit</span> successfully.</span><br><span class="line">  --skip-dot       Skip directories <span class="keyword">in</span> PATH that start with a dot.</span><br><span class="line">  --skip-tilde     Skip directories <span class="keyword">in</span> PATH that start with a tilde.</span><br><span class="line">  --show-dot       Don<span class="string">'t expand a dot to current directory in output.</span></span><br><span class="line"><span class="string">  --show-tilde     Output a tilde for HOME directory for non-root.</span></span><br><span class="line"><span class="string">  --tty-only       Stop processing options on the right if not on tty.</span></span><br><span class="line"><span class="string">  --all, -a        Print all matches in PATH, not just the first</span></span><br><span class="line"><span class="string">  --read-alias, -i Read list of aliases from stdin.</span></span><br><span class="line"><span class="string">  --skip-alias     Ignore option --read-alias; don'</span>t <span class="built_in">read</span> stdin.</span><br><span class="line">  --<span class="built_in">read</span>-functions Read bash <span class="built_in">functions</span> from stdin.</span><br><span class="line">  --skip-functions Ignore option --<span class="built_in">read</span>-functions; don<span class="string">'t read stdin.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Recommended use is to write the output of (alias; declare -f) to standard</span></span><br><span class="line"><span class="string">input, so that which can show aliases and bash functions. See which(1) for</span></span><br><span class="line"><span class="string">examples.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">If the options --read-alias and/or --read-functions are specified then the</span></span><br><span class="line"><span class="string">output can be a full alias or function definition, optionally followed by</span></span><br><span class="line"><span class="string">the full path of each command used inside of those.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Report bugs to &lt;which-bugs@gnu.org&gt;.</span></span><br></pre></td></tr></table></figure>

<h1 id="hostnamectl"><a href="#hostnamectl" class="headerlink" title="hostnamectl"></a>hostnamectl</h1><blockquote>
<p>centos7</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl [OPTIONS...] COMMAND ...</span><br><span class="line"></span><br><span class="line">Query or change system hostname.</span><br><span class="line"></span><br><span class="line">  -h --<span class="built_in">help</span>              Show this <span class="built_in">help</span></span><br><span class="line">     --version           Show package version</span><br><span class="line">     --no-ask-password   Do not prompt <span class="keyword">for</span> password</span><br><span class="line">  -H --host=[USER@]HOST  Operate on remote host</span><br><span class="line">  -M --machine=CONTAINER Operate on <span class="built_in">local</span> container</span><br><span class="line">     --transient         Only <span class="built_in">set</span> transient hostname</span><br><span class="line">     --static            Only <span class="built_in">set</span> static hostname</span><br><span class="line">     --pretty            Only <span class="built_in">set</span> pretty hostname</span><br><span class="line"></span><br><span class="line">Commands:</span><br><span class="line">  status                 Show current hostname settings</span><br><span class="line">  <span class="built_in">set</span>-hostname NAME      Set system hostname</span><br><span class="line">  <span class="built_in">set</span>-icon-name NAME     Set icon name <span class="keyword">for</span> host</span><br><span class="line">  <span class="built_in">set</span>-chassis NAME       Set chassis <span class="built_in">type</span> <span class="keyword">for</span> host</span><br><span class="line">  <span class="built_in">set</span>-deployment NAME    Set deployment environment <span class="keyword">for</span> host</span><br><span class="line">  <span class="built_in">set</span>-location NAME      Set location <span class="keyword">for</span> host</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl <span class="built_in">set</span>-hostname name</span><br><span class="line">hostnamectl status</span><br></pre></td></tr></table></figure>

<h1 id="查看磁盘占用"><a href="#查看磁盘占用" class="headerlink" title="查看磁盘占用"></a>查看磁盘占用</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">du -sh *</span><br><span class="line">du -sh /var/lib/mysql</span><br></pre></td></tr></table></figure>

<h1 id="某某人的心得"><a href="#某某人的心得" class="headerlink" title="某某人的心得"></a>某某人的心得</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">sed -i <span class="string">'s/SELINUX=enforcing/SELINUX=disabled/g'</span> /etc/selinux/config  <span class="comment">#关闭selinux</span></span><br><span class="line">sed -i <span class="string">'s/#GSSAPIAuthentication yes/GSSAPIAuthentication no/g'</span> /etc/ssh/sshd_config</span><br><span class="line">sed -i <span class="string">'s/#UseDNS yes/UseDNS no/g'</span> /etc/ssh/sshd_config</span><br><span class="line">sed -i <span class="string">'s/BOOTPROTO="dhcp"/BOOTPROTO="static"/g'</span> /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"IPADDR='192.168.99.2'"</span>  &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"PREFIX=21"</span> &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"GATEWAY='192.168.100.1'"</span> &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"DNS1='219.141.136.10'"</span> &gt;&gt; /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"></span><br><span class="line">systemctl <span class="built_in">set</span>-default multi-user.target</span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br></pre></td></tr></table></figure>


        </div>

        
        <section class="post-tags">
            <div>
                <span>标签：</span>
                <span class="tag">
                    
                    
                    <a href="/tags/Linux/"># Linux</a>
                    
                    
                </span>
            </div>
            <div>
                <a href="javascript：window.history.back();">后退</a>
                <span>· </span>
                <a href="/">主页</a>
            </div>
        </section>
        <section class="post-nav">
            
            <a class="prev" rel="prev" href="/2019/10/22/Jenkins%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2/">Jenkins安装部署</a>
            
            
            <a class="next" rel="next" href="/2019/10/22/Maven%E6%89%93%E5%8C%85%E4%BB%8B%E7%BB%8D/">Maven打包介绍</a>
            
        </section>
    </article>
</div>
        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© YiLongZhang | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
